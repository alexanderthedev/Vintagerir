@using Microsoft.AspNet.Identity
@model Vintagerie.ViewModels.MessagesViewModel

@{
    ViewBag.Title = "MessageRoom";
}


<div class="in-side">
    <h2>MessageRoom</h2>

    <ul>
            @foreach (var message in Model.ListOfMessages)
            {
                <li>
                    sent: @message.TimeSent <br />
                    sender: @message.Sender.Name <br />
                    receiver: @message.Receiver.Name <br />
                    content: @message.Content <br />

                </li>
            }
        </ul>

    @using (Html.BeginForm("SendMessage", "Messages", FormMethod.Post))
    {
        <div>
            @Html.LabelFor(m => m.SingleMessage.Content)
            @Html.TextAreaFor(m => m.SingleMessage.Content)
        </div>
        @Html.HiddenFor(m => m.ReceiverId)

        <button type="submit">send</button>
    }

</div>